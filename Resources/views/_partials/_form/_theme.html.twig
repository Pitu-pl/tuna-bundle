{% use "TheCodeineAdminBundle:_partials/_form/parts:attachments.html.twig" %}
{% use "TheCodeineAdminBundle:_partials/_form/parts:checkbox.html.twig" %}
{% use "TheCodeineAdminBundle:_partials/_form/parts:choice.html.twig" %}
{% use "TheCodeineAdminBundle:_partials/_form/parts:date.html.twig" %}
{% use "TheCodeineAdminBundle:_partials/_form/parts:editor.html.twig" %}
{% use "TheCodeineAdminBundle:_partials/_form/parts:errors.html.twig" %}
{% use "TheCodeineAdminBundle:_partials/_form/parts:gallery.html.twig" %}
{% use "TheCodeineAdminBundle:_partials/_form/parts:image.html.twig" %}
{% use "TheCodeineAdminBundle:_partials/_form/parts:tags.html.twig" %}
{% use "TheCodeineAdminBundle:_partials/_form/parts:text.html.twig" %}
{% use "TheCodeineAdminBundle:_partials/_form/parts:translations.html.twig" %}

{% macro tuna_image_preview(fileUrl, deletable) %}{% spaceless %}
    {% if fileUrl %}
        <img src="{{ fileUrl | imagine_filter('tuna_admin_thumb') }}"/>
        {% if deletable %}
            <span data-action="remove" class="remove">{% trans %}Remove{% endtrans %}</span>
        {% endif %}
    {% endif %}
{% endspaceless %}{% endmacro %}

{% macro tuna_file_preview(fileUrl) %}{% spaceless %}
    {% if fileUrl is not null %}
        <a href="{{ asset(fileUrl) }}" class="btn btn-secondary" target="_blank">
            <span class="fui-eye"></span>
        </a>
    {% endif %}
{% endspaceless %}{% endmacro %}

{% block form_row %}
    <div class="form-group form--{{ name }} {% if form.vars.errors | length > 0 %}has-errors{% endif %}">
        {{ form_label(form) }}
        {{ form_errors(form) }}
        {{ form_widget(form) }}
    </div>
{% endblock form_row %}

{%- block form_widget_simple -%}
    {% set attr = attr | merge({class: (attr.class | default('') ~ ' input--' ~ name) | trim}) %}
    {% if value is not empty %}
        {% set attr = attr | merge({value: value}) %}
    {% endif %}
    {%- set type = type|default('text') -%}
    <input type="{{ type }}" {{ block('widget_attributes') }}/>
{%- endblock form_widget_simple -%}
